# 广场 & 聊天候选新功能列表

> 本文档用于记录尚未实现但已讨论过的功能方向，方便后续按需排期实现。

## 1. 帖子搜索 / 标签搜索

- 支持按关键字搜索广场帖子标题和内容。
- 可选扩展：
  - 给帖子增加标签字段（发帖时可多选标签）。
  - 在广场页增加标签筛选 / 搜索入口。
  - 后端提供基于标签的筛选接口（支持多标签 AND/OR 模式）。

## 2. 帖子排序与过滤扩展

- 在现有「全部 / 热门 / 我的关注」基础上增加：
  - 只看带图片的帖子。
  - 只看带视频的帖子。
  - 只看仅好友可见的帖子。
- 支持组合筛选（例如：热门 + 仅图片）。

## 3. 帖子置顶 / 精选区

- 增加“精选”或“置顶”标记字段：
  - 可由管理员或特定角色在后台设置。
- 前端：
  - 在广场顶部增加一个“精选区”模块，展示若干精选帖子。
  - 普通列表中可以选择是否排除已置顶的帖子，避免重复。

## 4. 广场评论更丰富的展示形态

- 在当前二级评论的基础上，进一步增强：
  - 支持“只看作者评论”。
  - 支持“只看我与某人的对话线程”。
  - 评论数很多时，提供“按热度排序 / 按时间排序”切换。

## 5. 广场黑名单 / 屏蔽功能

- 增加用户级屏蔽能力：
  - A 可以拉黑 B：B 看不到 A 的广场帖子，A 的列表中也不出现 B 的帖子。
  - 与现有“不给谁看”列表形成互补：
    - “不给谁看”是针对单条帖子的；
    - 黑名单是全局维度的。
- 后端：
  - 新增黑名单表或复用现有用户黑名单结构。
  - 在广场帖子可见性判断中引入黑名单逻辑。

## 6. 广场主页统计信息丰富化

- 在个人广场主页增加更多统计：
  - 总收藏数、总评论数、近 7 天新增点赞曲线。
  - 粉丝增长趋势、发帖活跃度等。
- 前端可用简单折线图 / 柱状图展示（例如基于 ECharts 或轻量手写）。

## 7. 聊天消息引用 / 回复某条消息

- 支持类似 IM 应用中的“引用回复”：
  - 在某条消息上点击“回复”，新消息气泡中带上一段引用预览（原文、图片缩略图等）。
- 需要：
  - 消息结构中增加 `replyToMessageId` 字段。
  - 前端在渲染时根据该字段展示一段“引用区域”。

## 8. 聊天图片 / 视频查看器优化

- 目前点击图片会在新窗口打开。
- 计划：
  - 在聊天内集成一个图片/视频预览弹层：
    - 支持左右切换同一会话中的所有图片。
    - 支持 ESC 关闭、键盘左右切换。

## 9. 热门榜 & 关注 Feed 的前端预加载

- 在现有 Redis + 后端分页基础上：
  - 对首次加载到的热门列表和关注 Feed 做前端缓存；
  - Tab 切换时优先使用缓存，后台静默刷新，减少闪烁与接口压力。

---

> 以上为当前阶段的候选功能，后续新增想法也可以继续补充到这个文档中。
